//[ktask-core](../../../index.md)/[com.mooncloak.kodetools.ktask](../index.md)/[TaskService](index.md)

# TaskService

[common]\
@[ExperimentalTaskApi](../-experimental-task-api/index.md)

interface [TaskService](index.md) : [ServiceLifecycle](../-service-lifecycle/index.md), [TaskQueue](../-task-queue/index.md)

Represents a component that can schedule and perform tasks.

The TaskService interface is responsible for managing task scheduling, execution, and lifecycle. It extends the [ServiceLifecycle](../-service-lifecycle/index.md) interface, providing additional functionalities to control the service's life cycle. [TaskService](index.md) handles tasks through queues, enqueuing tasks with specific configurations, and observing state changes.

## Types

| Name | Summary |
|---|---|
| [Companion](-companion/index.md) | [common]<br>object [Companion](-companion/index.md) |

## Properties

| Name | Summary |
|---|---|
| [events](events.md) | [common]<br>abstract val [events](events.md): SharedFlow&lt;[TaskEvent](../-task-event/index.md)&gt;<br>A shared flow that emits events related to tasks managed by the [TaskService](index.md). |
| [isActive](../-service-lifecycle/is-active.md) | [common]<br>abstract val [isActive](../-service-lifecycle/is-active.md): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Returns whether this [ServiceLifecycle](../-service-lifecycle/index.md) is currently active. The [ServiceLifecycle](../-service-lifecycle/index.md) being active depends on whether the [cancel](../-service-lifecycle/cancel.md) function has been invoked, as well as, any underlying CoroutineScope still being active. So, if the [TaskService](index.md) is started, but the associated CoroutineScope was cancelled, then the [ServiceLifecycle](../-service-lifecycle/index.md) will not be active. |
| [size](../-task-queue/size.md) | [common]<br>abstract val [size](../-task-queue/size.md): [Int](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html)<br>The current number of tasks in the queue. |

## Functions

| Name | Summary |
|---|---|
| [cancel](../-service-lifecycle/cancel.md) | [common]<br>abstract fun [cancel](../-service-lifecycle/cancel.md)()<br>Cancels the service lifecycle, marking it as inactive. This may also affect any underlying resources or associated coroutine scopes linked to the service. It is up to the implementation whether a [ServiceLifecycle](../-service-lifecycle/index.md) can be restarted. Refer to the implementation's documentation. |
| [clear](../-task-queue/clear.md) | [common]<br>abstract suspend fun [clear](../-task-queue/clear.md)()<br>Clears all tasks from the task queue. |
| [close](../-service-lifecycle/close.md) | [common]<br>open override fun [close](../-service-lifecycle/close.md)() |
| [contains](../-task-queue/contains.md) | [common]<br>abstract operator fun [contains](../-task-queue/contains.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Determines whether the task queue contains a task with the specified unique identifier. |
| [enqueue](../-task-queue/enqueue.md) | [common]<br>abstract suspend fun [enqueue](../-task-queue/enqueue.md)(task: [Task](../-task/index.md)): [Task](../-task/index.md)<br>Adds the specified [task](../-task-queue/enqueue.md) to the task queue for scheduled execution.<br>[common]<br>abstract suspend fun [enqueue](../-task-queue/enqueue.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html) = Uuid.random().toHexString(), type: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)? = null, delay: [Duration](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.time/-duration/index.html)? = null, interval: [Duration](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.time/-duration/index.html)? = null, replay: [Int](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html) = 0, value: suspend () -&gt; [Unit](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html)): [Task](../-task/index.md)<br>Creates a [Task](../-task/index.md) from the provided values and adds it to the queue to be invoked. |
| [get](../-task-queue/get.md) | [common]<br>abstract operator fun [get](../-task-queue/get.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)): [Task](../-task/index.md)<br>Retrieves a [Task](../-task/index.md) from the task queue with the specified unique identifier. |
| [getAll](../-task-queue/get-all.md) | [common]<br>abstract fun [getAll](../-task-queue/get-all.md)(): [List](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.collections/-list/index.html)&lt;[Task](../-task/index.md)&gt;<br>Retrieves all tasks currently present in the task queue. |
| [getOrNull](../get-or-null.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>fun [TaskQueue](../-task-queue/index.md).[getOrNull](../get-or-null.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)): [Task](../-task/index.md)?<br>Safely retrieves a [Task](../-task/index.md) from the task queue by its unique identifier. If no task with the specified identifier exists, this method returns `null` instead of throwing an exception. |
| [isEmpty](../-task-queue/is-empty.md) | [common]<br>open fun [isEmpty](../-task-queue/is-empty.md)(): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Checks if the task queue is empty. |
| [launchClear](../launch-clear.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>inline fun [TaskService](index.md).[launchClear](../launch-clear.md)(): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Launches a coroutine to clear all tasks managed by the TaskService. |
| [launchEnqueue](../launch-enqueue.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>fun [TaskService](index.md).[launchEnqueue](../launch-enqueue.md)(task: [Task](../-task/index.md)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Adds the specified task to the task service's queue for execution.<br>[common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>fun [TaskService](index.md).[launchEnqueue](../launch-enqueue.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html) = Uuid.random().toHexString(), type: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)? = null, delay: [Duration](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.time/-duration/index.html)? = null, interval: [Duration](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin.time/-duration/index.html)? = null, replay: [Int](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-int/index.html) = 0, value: suspend () -&gt; [Unit](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Launches and enqueues a task for execution using the task service. |
| [launchRemove](../launch-remove.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>inline fun [TaskService](index.md).[launchRemove](../launch-remove.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Launches the removal of a task with the specified identifier within the [TaskService](index.md) scope. |
| [launchSchedule](../launch-schedule.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>fun [TaskService](index.md).[launchSchedule](../launch-schedule.md)(scheduler: [TaskScheduler](../-task-scheduler/index.md))<br>Launches the scheduling process using the provided [TaskScheduler](../-task-scheduler/index.md). |
| [remove](../-task-queue/remove.md) | [common]<br>abstract suspend fun [remove](../-task-queue/remove.md)(id: [String](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-string/index.html)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Removes the [Task](../-task/index.md) with the provided [id](../-task-queue/remove.md) from the task queue. |
| [runInScope](../-service-lifecycle/run-in-scope.md) | [common]<br>abstract fun [runInScope](../-service-lifecycle/run-in-scope.md)(block: suspend CoroutineScope.() -&gt; [Unit](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-unit/index.html)): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Executes a given suspend block of code within the service's coroutine scope. The block will only run if the associated coroutine scope is active. |
| [schedule](../schedule.md) | [common]<br>@[ExperimentalTaskApi](../-experimental-task-api/index.md)<br>suspend fun [TaskService](index.md).[schedule](../schedule.md)(scheduler: [TaskScheduler](../-task-scheduler/index.md))<br>Invokes the scheduling behavior provided by the given [TaskScheduler](../-task-scheduler/index.md) within the context of the current [TaskService](index.md) instance. |
| [start](../-service-lifecycle/start.md) | [common]<br>abstract fun [start](../-service-lifecycle/start.md)(): [Boolean](https://kotlinlang.org/api/core/kotlin-stdlib/kotlin/-boolean/index.html)<br>Initiates the service lifecycle. This method starts the service, allowing it to perform its intended tasks and transitions the service into an active state if possible. The behavior of the service after invoking this function, as well as its interaction with the `close` or `cancel` methods, depends on the specific implementation of the [ServiceLifecycle](../-service-lifecycle/index.md) interface. |
